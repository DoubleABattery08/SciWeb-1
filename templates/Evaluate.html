{% extends "darkThemeTemplate.html" %}

<!-- title block -->
{% block title %}
<title>SciWeb | Evaluate</title>
{% endblock %}

<!-- css block -->
{% block css %}
<link rel="stylesheet" href="/static/evaluate.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

<!-- content block -->
{% block content %}
<header class="major">
    <h2>Evaluate Your Knowledge</h2>
</header>

<section id="class-selection">
    <h3>Select a Class and Unit</h3>
    <select id="class-select">
        <option value="">Select a class</option>
    </select>
    <select id="unit-select" disabled>
        <option value="">Select a unit</option>
    </select>
    <button id="start-evaluation" class="button primary">Start Evaluation</button>
</section>

<section id="settings-panel" class="settings-panel">
    <div class="settings-header" onclick="toggleSettings()">
        <h3>Evaluation Settings</h3>
        <i class="fas fa-chevron-down settings-toggle-icon"></i>
    </div>
    <div id="settings-content" class="settings-content">
        <div class="settings-grid">
            <div class="setting-item">
                <label for="mcq-count">Multiple Choice Questions:</label>
                <input type="number" id="mcq-count" value="2" min="1" max="5">
            </div>
            <div class="setting-item">
                <label for="written-count">Written Questions:</label>
                <input type="number" id="written-count" value="3" min="1" max="5">
            </div>
        </div>
        
        <div class="setting-item full-width">
            <label>Scoring Focus:</label>
            <div class="scoring-options">
                <label class="radio-label">
                    <input type="radio" name="scoring-type" value="accuracy" checked>
                    <div class="radio-custom"></div>
                    <span class="radio-text">Accuracy (Focus on correctness and factual precision)</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="scoring-type" value="specificity">
                    <div class="radio-custom"></div>
                    <span class="radio-text">Specificity (Focus on detailed explanations and examples)</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="scoring-type" value="depth">
                    <div class="radio-custom"></div>
                    <span class="radio-text">Depth (Focus on understanding and conceptual connections)</span>
                </label>
            </div>
        </div>
    </div>
</section>

<section id="evaluation" style="display: none;">
    <div id="question-container">
        <h3 id="question"></h3>
        <div id="choices-container">
            <!-- This will be dynamically populated by JavaScript -->
        </div>
    </div>
    <div id="progress">Question <span id="current-question">1</span> of 5</div>
    <button id="next-question" class="button primary" style="display: none;">Next Question</button>
    <div id="result" style="display: none;"></div>
</section>

<div id="loading" style="display: none;">
    <div class="spinner"></div>
    <p id="loading-text">Generating questions...</p>
</div>


{% endblock %}

{% block js %}
<script src="/static/evaluate.js"></script>
{% endblock %}
